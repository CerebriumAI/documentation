---
title: "Using Private Docker Registries"
description: "Use private Docker images from Docker Hub, AWS ECR, GCR, and other registries as base images for your deployments."
---

## Overview

Cerebrium supports using your own private docker images as base images for your deployments - including images from Docker Hub, AWS ECR, Google Container Registry, or any Docker-compatible private registry.

## How It Works & Security

When you deploy with Cerebrium, the process is straightforward and secure:

**Deployment Process:**

- You specify your base image in cerebrium.toml
- Cerebrium reads your Docker credentials from ~/.docker/config.json
- The build system uses these credentials to pull your private image
- Your app is built on top of your custom base image

**Security:**

- **In Transit:** Credentials are sent over HTTPS
- **In Storage:** Stored in DynamoDB with automatic TTL-based deletion after build completion
- **In Logs:** Never logged or displayed (using obfuscated.String type)
- **In Build:** Only accessible during build, then discarded

**Best Practices:**

- Use access tokens instead of passwords
- Rotate tokens regularly
- Use read-only tokens when possible
- For teams, consider using shared organization credentials

### Platform Architecture Requirement:

<Warning>
  **Important:** Your Docker images MUST support `linux/amd64` architecture.
  This is required for Cerebrium's build environment.
</Warning>

## Step-by-Step Setup

### Step 1: Login to Your Registry

Based on your registry, login using one of the following commands:

**Docker Hub:**

```bash
docker login
# Enter username and password/token when prompted
```

**AWS ECR:**

```bash
aws ecr get-login-password --region us-east-1 | \
  docker login --username AWS --password-stdin \
  123456789.dkr.ecr.us-east-1.amazonaws.com
```

**Google Container Registry:**

```bash
gcloud auth configure-docker
```

**Generic Registry:**

```bash
docker login registry.company.com
# Enter credentials when prompted
```

### Step 2: Verify Login

Check that your credentials are saved:

```bash
cat ~/.docker/config.json | jq '.auths | keys'
```

You should see your registry URL(s) listed.

### Step 3: Configure Your Project

Edit your cerebrium.toml:

```toml
[cerebrium.deployment]
name = "my-app"
python_version = "3.11"
docker_base_image_url = "your-registry.com/your-org/your-image:tag"

# Examples:
# docker_base_image_url = "mycompany/ml-base:v2.1"  # Docker Hub
# docker_base_image_url = "123456.dkr.ecr.us-east-1.amazonaws.com/ml-base:latest"  # ECR
# docker_base_image_url = "gcr.io/project-id/ml-base:latest"  # GCR
```

### Step 4: Deploy

Simply run:

```bash
cerebrium deploy
```

Cerebrium will automatically:

- Detect your Docker credentials
- Send them securely with your deployment
- Use them to pull your private base image
- Build your application on top
